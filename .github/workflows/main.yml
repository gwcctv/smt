
name: Execute smt.sh on Schedule
on:
  schedule:
    - cron: '0 8 * * *'  # 每天UTC时间8点执行
  push:
    branches: [ main ]       # 推送代码时也触发（可选）
  pull_request:
    branches: [ main ]        # PR时触发（可选）

jobs:
  execute-script:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        
      - name: Make script executable
        run: chmod +x smt.sh
        
      - name: Execute smt.sh
        run: ./start.sh
        
      - name: Upload logs (可选)
        uses: actions/upload-artifact@v4
        if: always()
        with:
          name: execution-logs
          path: |
            ${{ github.workspace }}/*.log
          retention-days: 7
